<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-07-08 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160708" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Nazgul Tools: Validation Reactor &#x2013; Validation Component</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

                          
        
<link rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css" type="text/css"/>
                      
        
<link rel="stylesheet" href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" type="text/css"/>
                      
        
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script>
                      
        
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJava.js" type="text/javascript"></script>
                      
        
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js" type="text/javascript"></script>
                      
        
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js" type="text/javascript"></script>
          
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2><span style="color: #777777;">nazgul-tools-validation-reactor</span></h2>
                </div>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                <h2><span style="color: #777777;">Nazgul Framework:</span> <a href="https://github.org/lennartj/nazgul_tools/">Tools</a></h2>
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2016-07-08
                   </li>
                      
                
                    
                <li id="projectVersion" class="pull-right">Version: 6.0.1</li>
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Modules</li>
                              
      <li>
  
                          <a href="validation-api/index.html" title="nazgul-tools-validation-api">
          <span class="none"></span>
        nazgul-tools-validation-api</a>
            </li>
                
      <li>
  
                          <a href="validation-aspect/index.html" title="nazgul-tools-validation-aspect">
          <span class="none"></span>
        nazgul-tools-validation-aspect</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-down"></span>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="integration.html" title="CI Management">
          <span class="none"></span>
        CI Management</a>
            </li>
                    
      <li>
  
                          <a href="dependency-info.html" title="Dependency Information">
          <span class="none"></span>
        Dependency Information</a>
            </li>
                    
      <li>
  
                          <a href="distribution-management.html" title="Distribution Management">
          <span class="none"></span>
        Distribution Management</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>About</a>
          </li>
                    
      <li>
  
                          <a href="issue-tracking.html" title="Issue Management">
          <span class="none"></span>
        Issue Management</a>
            </li>
                    
      <li>
  
                          <a href="license.html" title="Licenses">
          <span class="none"></span>
        Licenses</a>
            </li>
                    
      <li>
  
                          <a href="modules.html" title="Project Modules">
          <span class="none"></span>
        Project Modules</a>
            </li>
                    
      <li>
  
                          <a href="plugin-management.html" title="Plugin Management">
          <span class="none"></span>
        Plugin Management</a>
            </li>
                    
      <li>
  
                          <a href="plugins.html" title="Plugins">
          <span class="none"></span>
        Plugins</a>
            </li>
                    
      <li>
  
                          <a href="team-list.html" title="Team">
          <span class="none"></span>
        Team</a>
            </li>
                    
      <li>
  
                          <a href="source-repository.html" title="Source Code Management">
          <span class="none"></span>
        Source Code Management</a>
            </li>
                    
      <li>
  
                          <a href="project-summary.html" title="Summary">
          <span class="none"></span>
        Summary</a>
            </li>
              </ul>
        </li>
                                                                                                      
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Validation Component</h1>
<p>The Validation component provides a simple means to validate the internal state of newly created objects, to ensure that the object is in a valid [internal] state. The validation component can be used without requiring the presence of any particular execution environment, such as a JEE or Spring container. (Of course, the validation component works just as well inside a container as outside of it.)</p>
<div class="section">
<h2><a name="Validating_object_state"></a>Validating object state</h2>
<p>The process to receive automatic validation is trivial if your artifact project uses the <tt>nazgul-parent</tt> pom as a parent within its inheritance chain:</p>

<ol style="list-style-type: decimal">
  
<li>Ensure that your pom.xml has the <tt>nazgul-parent</tt> pom as direct or indirect parent.</li>
  
<li>Let your relevant class implement the Validatable interface. (This is illustrated in row 1 in the listing below).</li>
  
<li>Define the expression for validating the internal state of the instance within the <tt>validateInternalState</tt>  method. (This is illustrated in rows 32 - 34 in the listing below.)</li>
</ol>
<p>If your artifact project does not use the nazgul-parent pom as a parent within its inheritance chain, please refer to the nazgul-parent pom to see how to configure the AspectJ plugin to automatically weave all your classes with the validationAspect. The validation aspect is what ultimately drives the invocation of the <tt>validateInternalState</tt> method.</p>
<p>For API details regarding which methods/validations are available for writing the <tt>validateInternalState</tt> method, please refer to the ExpressionBuilder class. Several concrete examples can be found within the test cases within the validation-aspect project and within the <tt>nazgul-core</tt> project/reactor.</p>

<div>
<pre class="brush: java" title="Example Validatable class.">
public class DummyEntity implements Validatable {

    // Internal state
    public int value = 0;

    /**
     * JAXB/JPA-friendly constructor.
     */
    public DummyEntity() {
        // Validation not performed after calling the default constructor.
    }

    /**
     * Compound constructor, so the validateInternalState method
     * will be invoked after the constructor is run.
     */
    public DummyEntity(int value) {
        this.value = value;

        // Validation performed after calling this [non-default] constructor.
    }

    /**
     * Performs validation of the internal state of this Validatable.
     *
     * @throws InternalStateValidationException
     *          if the state of this Validatable was in an incorrect
     *          state (i.e. invalid).
     */
    @Override
    public void validateInternalState() throws InternalStateValidationException {

        InternalStateValidationException.create()
                .notTrue(value &lt; 5, &quot;Value cannot be &lt; 5!&quot;)
                .endExpressionAndValidate();
    }
}
</pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                                                          
<script type="text/javascript">SyntaxHighlighter.all()</script>
                          </div>

        
                </div>
    </footer>
        </body>
</html>
